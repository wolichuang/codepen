<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      html {
        box-sizing: border-box;
        background: #ffc600;
        font-size: 20px;
        font-weight: 200;
      }

      .site-wrap {
        max-width: 700px;
        margin: 100px auto;
        background: #fff;
        padding: 40px;
      }
      h1 {
        margin-top: 0;
        font-size: 20px;
      }
      .align-left {
        float: left;
        margin-right: 20px;
      }
      .align-right {
        float: right;
        margin-left: 20px;
      }
      .slide-in {
        opacity: 0;
        transition: all 0.5s;
      }
      .align-left.slide-in {
        transform: translateX(-30%) scale(0.85);
      }
      .align-right.slide-in {
        transform: translateX(30%) scale(0.85);
      }
      .slide-in.active {
        opacity: 1;
        transform: translateX(0) scale(1);
      }
    </style>
  </head>
  <body>
    <div class="site-wrap">
      <h1>Slide in on Scroll</h1>
      <p>
        Consectetur adipisicing elit. Tempore tempora rerum, est autem
        cupiditate, corporis a qui libero ipsum delectus quidem dolor at nulla,
        adipisci veniam in reiciendis aut asperiores omnis blanditiis quod quas
        laborum nam! Fuga ad tempora in aspernatur pariaturlores sunt esse
        magni, ut, dignissimos.
      </p>
      <p>
        Lorem ipsum cupiditate, corporis a qui libero ipsum delectus quidem
        dolor at nulla, adipisci veniam in reiciendis aut asperiores omnis
        blanditiis quod quas laborum nam! Fuga ad tempora in aspernatur pariatur
        fugit quibusdam dolores sunt esse magni, ut, dignissimos.
      </p>
      <p>Adipisicing elit. Tempore tempora rerum..</p>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempore
        tempora rerum, est autem cupiditate, corporis a qui libero ipsum
        delectus quidem dolor at nulla, adipisci veniam in reiciendis aut
        asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in
        aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut,
        dignissimos.
      </p>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempore
        tempora rerum, est autem cupiditate, corporis a qui libero ipsum
        delectus quidem dolor at nulla, adipisci veniam in reiciendis aut
        asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in
        aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut,
        dignissimos.
      </p>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempore
        tempora rerum, est autem cupiditate, corporis a qui libero ipsum
        delectus quidem dolor at nulla, adipisci veniam in reiciendis aut
        asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in
        aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut,
        dignissimos.
      </p>
      <img src="http://unsplash.it/400/400" class="align-left slide-in" />
      <h1>Slide in on Scroll</h1>
      <p>
        Consectetur adipisicing elit. Tempore tempora rerum, est autem
        cupiditate, corporis a qui libero ipsum delectus quidem dolor at nulla,
        adipisci veniam in reiciendis aut asperiores omnis blanditiis quod quas
        laborum nam! Fuga ad tempora in aspernatur pariaturlores sunt esse
        magni, ut, dignissimos.
      </p>
      <p>
        Lorem ipsum cupiditate, corporis a qui libero ipsum delectus quidem
        dolor at nulla, adipisci veniam in reiciendis aut asperiores omnis
        blanditiis quod quas laborum nam! Fuga ad tempora in aspernatur pariatur
        fugit quibusdam dolores sunt esse magni, ut, dignissimos.
      </p>
      <p>Adipisicing elit. Tempore tempora rerum..</p>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempore
        tempora rerum, est autem cupiditate, corporis a qui libero ipsum
        delectus quidem dolor at nulla, adipisci veniam in reiciendis aut
        asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in
        aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut,
        dignissimos.
      </p>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempore
        tempora rerum, est autem cupiditate, corporis a qui libero ipsum
        delectus quidem dolor at nulla, adipisci veniam in reiciendis aut
        asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in
        aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut,
        dignissimos.
      </p>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempore
        tempora rerum, est autem cupiditate, corporis a qui libero ipsum
        delectus quidem dolor at nulla, adipisci veniam in reiciendis aut
        asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in
        aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut,
        dignissimos.
      </p>
      <img src="http://unsplash.it/400/400" class="align-right slide-in" />
      <h1>Slide in on Scroll</h1>
      <p>
        Consectetur adipisicing elit. Tempore tempora rerum, est autem
        cupiditate, corporis a qui libero ipsum delectus quidem dolor at nulla,
        adipisci veniam in reiciendis aut asperiores omnis blanditiis quod quas
        laborum nam! Fuga ad tempora in aspernatur pariaturlores sunt esse
        magni, ut, dignissimos.
      </p>
      <p>
        Lorem ipsum cupiditate, corporis a qui libero ipsum delectus quidem
        dolor at nulla, adipisci veniam in reiciendis aut asperiores omnis
        blanditiis quod quas laborum nam! Fuga ad tempora in aspernatur pariatur
        fugit quibusdam dolores sunt esse magni, ut, dignissimos.
      </p>
      <p>Adipisicing elit. Tempore tempora rerum..</p>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempore
        tempora rerum, est autem cupiditate, corporis a qui libero ipsum
        delectus quidem dolor at nulla, adipisci veniam in reiciendis aut
        asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in
        aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut,
        dignissimos.
      </p>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempore
        tempora rerum, est autem cupiditate, corporis a qui libero ipsum
        delectus quidem dolor at nulla, adipisci veniam in reiciendis aut
        asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in
        aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut,
        dignissimos.
      </p>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempore
        tempora rerum, est autem cupiditate, corporis a qui libero ipsum
        delectus quidem dolor at nulla, adipisci veniam in reiciendis aut
        asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in
        aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut,
        dignissimos.
      </p>
      <img src="http://unsplash.it/400/400" class="align-left slide-in" />
      <h1>Slide in on Scroll</h1>
      <p>
        Consectetur adipisicing elit. Tempore tempora rerum, est autem
        cupiditate, corporis a qui libero ipsum delectus quidem dolor at nulla,
        adipisci veniam in reiciendis aut asperiores omnis blanditiis quod quas
        laborum nam! Fuga ad tempora in aspernatur pariaturlores sunt esse
        magni, ut, dignissimos.
      </p>
      <p>
        Lorem ipsum cupiditate, corporis a qui libero ipsum delectus quidem
        dolor at nulla, adipisci veniam in reiciendis aut asperiores omnis
        blanditiis quod quas laborum nam! Fuga ad tempora in aspernatur pariatur
        fugit quibusdam dolores sunt esse magni, ut, dignissimos.
      </p>
      <p>Adipisicing elit. Tempore tempora rerum..</p>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempore
        tempora rerum, est autem cupiditate, corporis a qui libero ipsum
        delectus quidem dolor at nulla, adipisci veniam in reiciendis aut
        asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in
        aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut,
        dignissimos.
      </p>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempore
        tempora rerum, est autem cupiditate, corporis a qui libero ipsum
        delectus quidem dolor at nulla, adipisci veniam in reiciendis aut
        asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in
        aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut,
        dignissimos.
      </p>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempore
        tempora rerum, est autem cupiditate, corporis a qui libero ipsum
        delectus quidem dolor at nulla, adipisci veniam in reiciendis aut
        asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in
        aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut,
        dignissimos.
      </p>
      <img src="http://unsplash.it/400/400" class="align-right slide-in" />
      <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempore
        tempora rerum, est autem cupiditate, corporis a qui libero ipsum
        delectus quidem dolor at nulla, adipisci veniam in reiciendis aut
        asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in
        aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut,
        dignissimos.
      </p>
    </div>
    <script type="text/javascript">
      // 防抖函数
      function debounce(func, wait = 20, immediate = true) {
        var timeout;
        return function () {
          var context = this,
            args = arguments;
          var later = function () {
            timeout = null;
            if (!immediate) func.apply(context, args);
          };
          var now = immediate && !timeout;
          clearTimeout(timeout);
          timeout = setTimeout(later, wait);
          if (now) func.apply(context, args);
        };
      }
      const sliderImages = document.querySelectorAll('.slide-in');
      function checkSlide() {
        sliderImages.forEach((item) => {
          const slideInAt =
            window.scrollY + window.innerHeight - item.height / 2;
          const imageBottom = item.offsetTop + item.height;
          const isHalfShown = slideInAt > item.offsetTop;
          const isNotScrollPast = window.scrollY < imageBottom; // 当滚动过去当前图片位置
          if (isHalfShown && isNotScrollPast) {
            item.classList.add('active');
          } else {
            item.classList.remove('active');
          }
        });
      }

      window.addEventListener('scroll', debounce(checkSlide));
    </script>
  </body>
</html>
